import pytest
from src.widget import get_date  # Замените `src.widget` соответственно вашему проекту


@pytest.mark.parametrize(
    "date_time, expected",
    [
        # Корректные данные, формат "YYYY-MM-DDTHH:MM:SS"
        ("2023-12-01T14:23:00", "01.12.2023"),  # Пример обычной даты
        ("1999-01-01T00:00:00", "01.01.1999"),  # Начало года
        ("2010-07-15T23:59:59", "15.07.2010"),  # Другая дата
        ("2024-02-29T12:00:00", "29.02.2024"),  # Високосный год (29 февраля)

        # Граничные случаи
        ("0000-01-01T00:00:00", "01.01.0000"),  # Минимальная дата (формально валидная)
        ("9999-12-31T23:59:59", "31.12.9999"),  # Максимальная дата (формально валидная)

        # Нестандартные данные (невалидные случаи)
        ("2023-12-01", "Дата указана неверно!"),  # Нет времени
        ("01.12.2023", "Дата указана неверно!"),  # Неправильный формат
        ("2023/12/01T14:23:00", "Дата указана неверно!"),  # Разделитель в дате неверный
        ("", "Дата указана неверно!"),  # Пустая строка
        ("NotADate", "Дата указана неверно!"),  # Полностью некорректная строка
        ("20231201T142300", "Дата указана неверно!"),  # Дата, записанная без разделителей
    ],
)
def test_get_date(date_time, expected):
    """
    Тест функции get_date для разных входных строк.
    """
    assert get_date(date_time) == expected
